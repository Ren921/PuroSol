{"ast":null,"code":"import _regeneratorRuntime from \"/home/mapache/Descargas/purosoljoyas/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _objectSpread from \"/home/mapache/Descargas/purosoljoyas/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _asyncToGenerator from \"/home/mapache/Descargas/purosoljoyas/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/home/mapache/Descargas/purosoljoyas/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/mapache/Descargas/purosoljoyas/src/componentes/Products.js\";\nimport React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Productos from './Productos';\nimport products from '../product-data';\nimport { db } from '../firebase';\nimport { collection, getDocs, orderBy, query } from 'firebase/firestore';\nimport { useState, useEffect } from 'react';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      flexGrow: 1,\n      padding: theme.spacing(2)\n    }\n  };\n});\nexport default function Products() {\n  var _this = this;\n\n  var classes = useStyles();\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      productos = _useState2[0],\n      setProductos = _useState2[1];\n\n  var productoColleccion = collection(db, \"productos\");\n  useEffect(function () {\n    var getProductos = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var prod;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return getDocs(productoColleccion);\n\n              case 2:\n                prod = _context.sent;\n                setProductos(prod.docs.map(function (doc) {\n                  return _objectSpread({}, doc.data(), {\n                    id: doc.id\n                  });\n                }));\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function getProductos() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    getProductos();\n  }, []);\n\n  var ProductsValor = function ProductsValor() {\n    var getProductos = /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        var q;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                q = query(productoColleccion, orderBy('price', 'asc')); //console.log(\"que\", q.doc)\n\n                getDocs(q).then(function (snapshot) {\n                  setProductos([]);\n                  snapshot.docs.forEach(function (doc) {\n                    setProductos(snapshot.docs.map(function (doc) {\n                      return _objectSpread({}, doc.data(), {\n                        id: doc.id\n                      });\n                    }));\n                  });\n                }).catch(function (err) {\n                  console.log(err.message);\n                });\n\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      return function getProductos() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    getProductos();\n  };\n\n  var ProductsRating = function ProductsRating() {\n    var getProductos = /*#__PURE__*/function () {\n      var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n        var q;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                q = query(productoColleccion, orderBy('rating', 'asc')); //console.log(\"que\", q.doc)\n\n                getDocs(q).then(function (snapshot) {\n                  setProductos([]);\n                  snapshot.docs.forEach(function (doc) {\n                    setProductos(snapshot.docs.map(function (doc) {\n                      return _objectSpread({}, doc.data(), {\n                        id: doc.id\n                      });\n                    }));\n                  });\n                }).catch(function (err) {\n                  console.log(err.message);\n                });\n\n              case 2:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      return function getProductos() {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n\n    getProductos();\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: ProductsValor,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }, \" Ordenar por precio\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: ProductsRating,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }, \" Ordenar por estrellas\"), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }, productos.map(function (producto) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      item: true,\n      xs: 12,\n      sm: 6,\n      md: 4,\n      lg: 3,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Productos, {\n      producto: producto,\n      key: producto.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 21\n      }\n    }));\n  })));\n}","map":{"version":3,"names":["React","makeStyles","Grid","Productos","products","db","collection","getDocs","orderBy","query","useState","useEffect","useStyles","theme","root","flexGrow","padding","spacing","Products","classes","productos","setProductos","productoColleccion","getProductos","prod","docs","map","doc","data","id","ProductsValor","q","then","snapshot","forEach","catch","err","console","log","message","ProductsRating","producto"],"sources":["/home/mapache/Descargas/purosoljoyas/src/componentes/Products.js"],"sourcesContent":["import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Productos from './Productos';\r\nimport products from '../product-data';\r\nimport { db } from '../firebase';\r\nimport { collection, getDocs, orderBy, query } from 'firebase/firestore';\r\nimport {useState, useEffect} from 'react';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    padding: theme.spacing(2),\r\n  },\r\n  \r\n}));\r\n\r\nexport default function Products() {\r\n  const classes = useStyles();\r\n\r\n  const [productos, setProductos] = useState([]);\r\n  const productoColleccion = collection(db, \"productos\");\r\n  useEffect(() => {\r\n    const getProductos = async () => {\r\n      const prod = await getDocs(productoColleccion);\r\n      setProductos(prod.docs.map((doc) => ({...doc.data(), id: doc.id})));\r\n    }\r\n    getProductos();\r\n  }, [])\r\n\r\n  const ProductsValor = () => { \r\n      const getProductos = async () => {\r\n        \r\n        const q = query(productoColleccion, orderBy('price', 'asc'));\r\n        //console.log(\"que\", q.doc)\r\n        getDocs(q)\r\n          .then((snapshot) => {\r\n            \r\n            setProductos([])\r\n            snapshot.docs.forEach((doc) => {\r\n              setProductos(snapshot.docs.map((doc) => ({...doc.data(), id: doc.id})))\r\n            })\r\n          })\r\n          .catch(err => {\r\n            console.log(err.message);\r\n          })\r\n      } \r\n      getProductos();\r\n  }\r\n\r\n  const ProductsRating = () => { \r\n    const getProductos = async () => {\r\n      \r\n      const q = query(productoColleccion, orderBy('rating', 'asc'));\r\n      //console.log(\"que\", q.doc)\r\n      getDocs(q)\r\n        .then((snapshot) => {\r\n          \r\n          setProductos([])\r\n          snapshot.docs.forEach((doc) => {\r\n            setProductos(snapshot.docs.map((doc) => ({...doc.data(), id: doc.id})))\r\n          })\r\n        })\r\n        .catch(err => {\r\n          console.log(err.message);\r\n        })\r\n    } \r\n    getProductos();\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <button onClick={ProductsValor}> Ordenar por precio</button>\r\n      <button onClick={ProductsRating}> Ordenar por estrellas</button>\r\n      \r\n      <Grid container spacing={2}>\r\n          {\r\n              productos.map(producto => (\r\n                <div item xs={12} sm={6} md={4} lg={3}>\r\n                    <Productos producto={producto} key={producto.id}/>\r\n                </div>\r\n              ))\r\n          }\r\n      </Grid>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}