{"ast":null,"code":"import _toConsumableArray from \"/home/mapache/Descargas/purosoljoyas/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/home/mapache/Descargas/purosoljoyas/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nexport var initialState = {\n  basket: [],\n  user: null\n};\nexport var actionTypes = {\n  ADD_TO_BASKET: \"ADD_TO_BASKET\",\n  REMOVE_ITEM: \"REMOVE_ITEM\",\n  SET_USER: \"SET_USER\",\n  EMPTY_BASKET: \"EMPTY_BASKET\"\n};\nexport var getBasketTotal = function getBasketTotal(basket) {\n  var total = basket.reduce(function (monto, item) {\n    return item.price + monto;\n  }, 0);\n  return total;\n};\n\nvar reducer = function reducer(state, action) {\n  console.log(action);\n\n  switch (action.type) {\n    case \"ADD_TO_BASKET\":\n      return _objectSpread({}, state, {\n        basket: [].concat(_toConsumableArray(state.basket), [action.item])\n      });\n\n    case \"REMOVE_ITEM\":\n      var index = state.basket.findIndex(function (basketItem) {\n        return basketItem.id === action.id;\n      });\n\n      var newBasket = _toConsumableArray(state.basket);\n\n      if (index >= 0) {\n        newBasket.splice(index, 1);\n      } else {\n        console.log(\"No se puede remover producto\");\n      }\n\n      return _objectSpread({}, state, {\n        basket: newBasket\n      });\n\n    case \"SET_USER\":\n      return _objectSpread({}, state, {\n        user: action.user\n      });\n\n    case \"EMPTY_BASKET\":\n      return _objectSpread({}, state, {\n        basket: action.basket\n      });\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","map":{"version":3,"names":["initialState","basket","user","actionTypes","ADD_TO_BASKET","REMOVE_ITEM","SET_USER","EMPTY_BASKET","getBasketTotal","total","reduce","monto","item","price","reducer","state","action","console","log","type","index","findIndex","basketItem","id","newBasket","splice"],"sources":["/home/mapache/Descargas/purosoljoyas/src/reducer.js"],"sourcesContent":["export const initialState = {\r\n    basket: [],\r\n    user: null,\r\n}\r\n\r\nexport const actionTypes = {\r\n    ADD_TO_BASKET: \"ADD_TO_BASKET\",\r\n    REMOVE_ITEM: \"REMOVE_ITEM\",\r\n    SET_USER: \"SET_USER\",\r\n    EMPTY_BASKET: \"EMPTY_BASKET\",\r\n}\r\n\r\nexport const getBasketTotal = (basket) => {\r\n   let total = basket.reduce((monto, item) => item.price + monto, 0 );\r\n    return total;\r\n}\r\n\r\nconst reducer = (state, action) => {\r\n    console.log(action);\r\n    switch(action.type){\r\n        case \"ADD_TO_BASKET\":\r\n            return {\r\n                ...state,\r\n                basket: [...state.basket, action.item],\r\n            };\r\n        case \"REMOVE_ITEM\":\r\n            const index = state.basket.findIndex((basketItem=> basketItem.id === action.id))\r\n            let newBasket = [...state.basket];\r\n            if (index>=0){\r\n                newBasket.splice(index, 1)\r\n            } else {console.log(\"No se puede remover producto\")}\r\n            return{\r\n                ...state,\r\n                basket: newBasket,\r\n            }\r\n        case \"SET_USER\":\r\n            return {\r\n                ...state,\r\n                user: action.user\r\n            }\r\n        case \"EMPTY_BASKET\":\r\n            return {\r\n                ...state,\r\n                basket: action.basket\r\n            }\r\n            default: return state;\r\n    }\r\n}\r\n\r\nexport default reducer"],"mappings":";;AAAA,OAAO,IAAMA,YAAY,GAAG;EACxBC,MAAM,EAAE,EADgB;EAExBC,IAAI,EAAE;AAFkB,CAArB;AAKP,OAAO,IAAMC,WAAW,GAAG;EACvBC,aAAa,EAAE,eADQ;EAEvBC,WAAW,EAAE,aAFU;EAGvBC,QAAQ,EAAE,UAHa;EAIvBC,YAAY,EAAE;AAJS,CAApB;AAOP,OAAO,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAACP,MAAD,EAAY;EACvC,IAAIQ,KAAK,GAAGR,MAAM,CAACS,MAAP,CAAc,UAACC,KAAD,EAAQC,IAAR;IAAA,OAAiBA,IAAI,CAACC,KAAL,GAAaF,KAA9B;EAAA,CAAd,EAAmD,CAAnD,CAAZ;EACC,OAAOF,KAAP;AACH,CAHM;;AAKP,IAAMK,OAAO,GAAG,SAAVA,OAAU,CAACC,KAAD,EAAQC,MAAR,EAAmB;EAC/BC,OAAO,CAACC,GAAR,CAAYF,MAAZ;;EACA,QAAOA,MAAM,CAACG,IAAd;IACI,KAAK,eAAL;MACI,yBACOJ,KADP;QAEId,MAAM,+BAAMc,KAAK,CAACd,MAAZ,IAAoBe,MAAM,CAACJ,IAA3B;MAFV;;IAIJ,KAAK,aAAL;MACI,IAAMQ,KAAK,GAAGL,KAAK,CAACd,MAAN,CAAaoB,SAAb,CAAwB,UAAAC,UAAU;QAAA,OAAGA,UAAU,CAACC,EAAX,KAAkBP,MAAM,CAACO,EAA5B;MAAA,CAAlC,CAAd;;MACA,IAAIC,SAAS,sBAAOT,KAAK,CAACd,MAAb,CAAb;;MACA,IAAImB,KAAK,IAAE,CAAX,EAAa;QACTI,SAAS,CAACC,MAAV,CAAiBL,KAAjB,EAAwB,CAAxB;MACH,CAFD,MAEO;QAACH,OAAO,CAACC,GAAR,CAAY,8BAAZ;MAA4C;;MACpD,yBACOH,KADP;QAEId,MAAM,EAAEuB;MAFZ;;IAIJ,KAAK,UAAL;MACI,yBACOT,KADP;QAEIb,IAAI,EAAEc,MAAM,CAACd;MAFjB;;IAIJ,KAAK,cAAL;MACI,yBACOa,KADP;QAEId,MAAM,EAAEe,MAAM,CAACf;MAFnB;;IAIA;MAAS,OAAOc,KAAP;EA1BjB;AA4BH,CA9BD;;AAgCA,eAAeD,OAAf"},"metadata":{},"sourceType":"module"}