{"ast":null,"code":"import _regeneratorRuntime from \"/home/mapache/Descargas/purosoljoyas/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/mapache/Descargas/purosoljoyas/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"/home/mapache/Descargas/purosoljoyas/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/home/mapache/Descargas/purosoljoyas/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/mapache/Descargas/purosoljoyas/src/componentes/Products.js\";\nimport React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Productos from './Productos';\nimport products from '../product-data';\nimport { db } from '../firebase';\nimport { collection, getDocs, orderBy, query } from 'firebase/firestore';\nimport { useState, useEffect } from 'react';\nimport { Button } from '@material-ui/core';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      flexGrow: 1,\n      padding: theme.spacing(2),\n      borderRadius: 5\n    }\n  };\n});\nexport default function Products() {\n  var _this = this;\n\n  //const classes = useStyles();\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      productos = _useState2[0],\n      setProductos = _useState2[1];\n\n  var productoColleccion = collection(db, \"productos\");\n\n  var getProductos = function getProductos() {\n    var prod = getDocs(productoColleccion);\n    setProductos(prod.docs.map(function (doc) {\n      return _objectSpread({}, doc.data(), {\n        id: doc.id\n      });\n    }));\n  };\n\n  getProductos();\n\n  var ProductsValor = function ProductsValor() {\n    var getProductos = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var q;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                q = query(productoColleccion, orderBy('price', 'asc')); //console.log(\"que\", q.doc)\n\n                getDocs(q).then(function (snapshot) {\n                  setProductos([]);\n                  snapshot.docs.forEach(function (doc) {\n                    setProductos(snapshot.docs.map(function (doc) {\n                      return _objectSpread({}, doc.data(), {\n                        id: doc.id\n                      });\n                    }));\n                  });\n                }).catch(function (err) {\n                  console.log(err.message);\n                });\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function getProductos() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    getProductos();\n  };\n\n  var ProductsRating = function ProductsRating() {\n    var getProductos = /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        var q;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                q = query(productoColleccion, orderBy('rating', 'desc')); //console.log(\"que\", q.doc)\n\n                getDocs(q).then(function (snapshot) {\n                  setProductos([]);\n                  snapshot.docs.forEach(function (doc) {\n                    setProductos(snapshot.docs.map(function (doc) {\n                      return _objectSpread({}, doc.data(), {\n                        id: doc.id\n                      });\n                    }));\n                  });\n                }).catch(function (err) {\n                  console.log(err.message);\n                });\n\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      return function getProductos() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    getProductos();\n  };\n\n  var classes = useStyles();\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    \"padding-bottom\": 20,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: ProductsValor,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }, \" Ordenar por precio\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"secondary\",\n    onClick: ProductsRating,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, \" Ordenar por estrellas\")), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: -1,\n    \"padding-top\": 20,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }, productos.map(function (producto) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      item: true,\n      xs: 14,\n      sm: 8,\n      md: 4,\n      lg: 3,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 19\n      }\n    }, \" \"), /*#__PURE__*/React.createElement(Productos, {\n      producto: producto,\n      key: producto.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 21\n      }\n    }, \" \"));\n  })));\n}","map":{"version":3,"names":["React","makeStyles","Grid","Productos","products","db","collection","getDocs","orderBy","query","useState","useEffect","Button","useStyles","theme","root","flexGrow","padding","spacing","borderRadius","Products","productos","setProductos","productoColleccion","getProductos","prod","docs","map","doc","data","id","ProductsValor","q","then","snapshot","forEach","catch","err","console","log","message","ProductsRating","classes","producto"],"sources":["/home/mapache/Descargas/purosoljoyas/src/componentes/Products.js"],"sourcesContent":["import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Productos from './Productos';\r\nimport products from '../product-data';\r\nimport { db } from '../firebase';\r\nimport { collection, getDocs, orderBy, query } from 'firebase/firestore';\r\nimport {useState, useEffect} from 'react';\r\nimport { Button } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    padding: theme.spacing(2),\r\n    borderRadius: 5,\r\n  },\r\n  \r\n}));\r\n\r\nexport default function Products() {\r\n  //const classes = useStyles();\r\n\r\n  const [productos, setProductos] = useState([]);\r\n  const productoColleccion = collection(db, \"productos\");\r\n  \r\n    const getProductos =  () => {\r\n      const prod =  getDocs(productoColleccion);\r\n      setProductos(prod.docs.map((doc) => ({...doc.data(), id: doc.id})));\r\n    }\r\n    getProductos();\r\n \r\n\r\n  const ProductsValor = () => { \r\n      const getProductos = async () => {\r\n        \r\n        const q = query(productoColleccion, orderBy('price', 'asc'));\r\n        //console.log(\"que\", q.doc)\r\n        getDocs(q)\r\n          .then((snapshot) => {\r\n            \r\n            setProductos([])\r\n            snapshot.docs.forEach((doc) => {\r\n              setProductos(snapshot.docs.map((doc) => ({...doc.data(), id: doc.id})))\r\n            })\r\n          })\r\n          .catch(err => {\r\n            console.log(err.message);\r\n          })\r\n      } \r\n      getProductos();\r\n  }\r\n\r\n  const ProductsRating = () => { \r\n    const getProductos = async () => {\r\n      \r\n      const q = query(productoColleccion, orderBy('rating', 'desc'));\r\n      //console.log(\"que\", q.doc)\r\n      getDocs(q)\r\n        .then((snapshot) => {\r\n          \r\n          setProductos([])\r\n          snapshot.docs.forEach((doc) => {\r\n            setProductos(snapshot.docs.map((doc) => ({...doc.data(), id: doc.id})))\r\n          })\r\n        })\r\n        .catch(err => {\r\n          console.log(err.message);\r\n        })\r\n    } \r\n    getProductos();\r\n  }\r\n\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    \r\n    <div className={classes.root}>\r\n      <div padding-bottom={20}>\r\n      <Button variant=\"contained\" color=\"primary\" onClick={ProductsValor}> Ordenar por precio</Button>\r\n      <Button variant=\"contained\" color=\"secondary\" onClick={ProductsRating}> Ordenar por estrellas</Button>\r\n      </div>\r\n      \r\n      <Grid container spacing={-1} padding-top={20}>\r\n          {\r\n              productos.map(producto => (\r\n                \r\n                <div item xs={14} sm={8} md={4} lg={3}>\r\n                  <div> </div>\r\n                    <Productos producto={producto} key={producto.id}/>\r\n                    <div> </div>\r\n                </div>\r\n                \r\n              ))\r\n              \r\n          }\r\n          \r\n      </Grid>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}